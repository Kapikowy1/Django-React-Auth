{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/newus/OneDrive/Pulpit/DocoAppDemoFinal/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/newus/OneDrive/Pulpit/DocoAppDemoFinal/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Cookies from'js-cookie';import axios from'axios';import{LOAD_USER_PROFILE_SUCCESS,LOAD_USER_PROFILE_FAIL}from'./myTypes';export var load_user=function load_user(){var _ref;return function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var config,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:config={headers:{'Accept':'application/json','Content-Type':'application/json'}};_context.prev=1;_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/profile/user\"),config);case 4:res=_context.sent;if(res.data.error){dispatch({type:LOAD_USER_PROFILE_FAIL});}else{dispatch({type:LOAD_USER_PROFILE_SUCCESS,payload:res.data});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:LOAD_USER_PROFILE_FAIL});case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}))).apply(this,arguments);};};","map":{"version":3,"names":["Cookies","axios","LOAD_USER_PROFILE_SUCCESS","LOAD_USER_PROFILE_FAIL","load_user","_ref","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","config","res","wrap","_callee$","_context","prev","next","headers","get","concat","process","env","REACT_APP_API_URL","sent","data","error","type","payload","t0","stop","apply","arguments"],"sources":["C:/Users/newus/OneDrive/Pulpit/DocoAppDemoFinal/frontend/src/actions/profile.js"],"sourcesContent":["import Cookies from 'js-cookie';\r\nimport axios from 'axios';\r\nimport {\r\n    LOAD_USER_PROFILE_SUCCESS,\r\n    LOAD_USER_PROFILE_FAIL,\r\n    \r\n} from './myTypes';\r\n\r\nexport const load_user = () => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/profile/user`, config);\r\n\r\n        if (res.data.error) {\r\n            dispatch({\r\n                type: LOAD_USER_PROFILE_FAIL\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: LOAD_USER_PROFILE_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        }\r\n    } catch (err) {\r\n        dispatch({\r\n            type: LOAD_USER_PROFILE_FAIL\r\n        });\r\n    }\r\n};\r\n"],"mappings":"4SAAA,MAAO,CAAAA,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACIC,yBAAyB,CACzBC,sBAAsB,KAEnB,WAAW,CAElB,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,MAAAC,IAAA,iBAAAC,EAAA,SAAAD,IAAA,CAAAA,IAAA,EAAAE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAAC,QAAMC,QAAQ,MAAAC,MAAA,CAAAC,GAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnCN,MAAM,CAAG,CACXO,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGqB,CAAAjB,KAAK,CAACmB,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,kBAAiBZ,MAAM,CAAC,QAA9EC,GAAG,CAAAG,QAAA,CAAAS,IAAA,CAET,GAAIZ,GAAG,CAACa,IAAI,CAACC,KAAK,CAAE,CAChBhB,QAAQ,CAAC,CACLiB,IAAI,CAAEzB,sBACV,CAAC,CAAC,CACN,CAAC,IAAM,CACHQ,QAAQ,CAAC,CACLiB,IAAI,CAAE1B,yBAAyB,CAC/B2B,OAAO,CAAEhB,GAAG,CAACa,IACjB,CAAC,CAAC,CACN,CAACV,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAEDL,QAAQ,CAAC,CACLiB,IAAI,CAAEzB,sBACV,CAAC,CAAC,CAAC,yBAAAa,QAAA,CAAAe,IAAA,MAAArB,OAAA,gBAEV,IAAAsB,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}